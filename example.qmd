---
title: "TikZ Example"
filters:
  - tikz
format:
  html: {}
tikz:
  cache: false
  save-tex: true  # Enable saving intermediate .tex files
  tex-dir: tikz-tex  # Optional: Specify directory to save .tex files
  template: template_tikz_html.tex
  svg-engine: mupdf
  scale: 1.28
  #libgs: /usr/local/Cellar/ghostscript/10.05.1/lib/libgs.dylib
---

# Simple TikZ Diagram

```{.tikz}
%%| filename: myarb

\usetikzlibrary{matrix}
\usetikzlibrary{decorations.text, decorations.pathreplacing}
\begin{tikzpicture}[nodes={text depth=0.25ex,text height=1.25ex}]
\path [decoration={text effects along path, 
  text=.\txarb{ٱلصَّغِيرَينِ} \txarb{ٱلْكِتَابَيْنِ} \txarb{قَرَأْتُ},
  text effects/.cd, 
    path from text, text along path,
    group letters, word count=\w,
    every word/.style={name=word-\w, execute at begin node=\strut}},
  decorate] (0,0);

\draw [decoration={brace}, decorate] 
   (word-1.north west) -- (word-1.north east)
      node [midway, rotate=90, anchor=south, right=0ex] {\scriptsize attribute};

\draw [decoration={brace}, decorate] 
   (word-2.north west) -- (word-2.north east)
      node [midway, rotate=90, anchor=south, right=0ex] {\scriptsize attributee};

\draw [decoration={brace, mirror}, decorate] 
   (word-1.south west) -- (word-2.south east)
      node [midway, below] {\scriptsize descriptive noun-phrase};

\path (0,0) node [midway, below=7.5ex, right=0ex, align=left] {``I read the small books.'')};

\end{tikzpicture}
```



Here is a simple TikZ diagram without additional packages or complex features:

```{.tikz}
%%| filename: stick-figure
%%| caption: A Stick Figure

\begin{tikzpicture}[scale=2, transform shape]
  % Head
  \draw (0,0) circle (1cm);
  % Body
  \draw (0,-1) -- (0,-3);
  % Arms
  \draw (-1,-2) -- (0,-1) -- (1,-2);
  % Legs
  \draw (-1,-4) -- (0,-3) -- (1,-4);
\end{tikzpicture}
```


## All the features

Now, let's look at a more complex example [@fig-example] that uses additional packages and demonstrates more features.


::: {#fig-example .test-class}
```{.tikz}
%%| filename: my-fancy-diagram
%%| fig-attr:
%%|   id: fig-my-fancy-diagram
%%|   class: my-class
%%| additionalPackages: \usepackage{adjustbox}


\usetikzlibrary{arrows, arrows.meta}
\tikzset{
  int/.style={
    draw,
    fill=blue!20,
    minimum size=2em,
    line width=0.5pt
  },
  init/.style={
    pin edge={to-, black, line width=1pt}
  },
  % Define a global path style
  every path/.style={
    line width=1pt,
    >=Latex
  }
}
\begin{tikzpicture}[
    scale=2,
    transform shape,
    node distance=2.5cm,
    auto,
    >=latex', % Arrowhead style
    line width=0.5pt % Base line width
  ]
  \node [int, pin={[init]above:$v_0$}] (a) {$\frac{1}{s}$};
  \node (b) [left of=a, node distance=2cm, coordinate] {a};
  \node [int, pin={[init]above:$p_0$}] at (0,0) (c)
    [right of=a] {$\frac{1}{s}$};
  \node [coordinate] (end) [right of=c, node distance=2cm]{};

  % Draw paths with arrows
  \path[->] (b) edge node {$a$} (a);
  \path[->] (a) edge node {$v$} (c);
  \draw[->] (c) edge node {$p$} (end);
\end{tikzpicture}

```

A fancy TikZ example
:::
